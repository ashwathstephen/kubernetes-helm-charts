# StatefulSet chart values

replicaCount: 3

image:
  repository: postgres
  tag: "15"
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# Update strategy
updateStrategy:
  type: RollingUpdate

# Pod management policy
podManagementPolicy: OrderedReady

# Service configuration
service:
  type: ClusterIP
  port: 5432
  headless: true

# Persistence
persistence:
  enabled: true
  storageClass: ""
  accessModes:
    - ReadWriteOnce
  size: 10Gi
  annotations: {}

# Resources
resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 250m
    memory: 256Mi

# Security context
securityContext:
  runAsNonRoot: true
  runAsUser: 999
  fsGroup: 999

# Probes
livenessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1
  tcpSocket:
    port: 5432

readinessProbe:
  enabled: true
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3
  successThreshold: 1
  tcpSocket:
    port: 5432

# Environment variables
env: []

envFrom: []

# Volumes
extraVolumes: []
extraVolumeMounts: []

# Init containers
initContainers: []

# Sidecars
sidecars: []

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchLabels:
              app.kubernetes.io/name: "{{ .Release.Name }}"
          topologyKey: kubernetes.io/hostname

# Service account
serviceAccount:
  create: true
  name: ""
  annotations: {}

# Pod Disruption Budget
podDisruptionBudget:
  enabled: true
  minAvailable: 1

# Annotations
podAnnotations: {}

